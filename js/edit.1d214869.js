(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["edit"],{"0a31":function(t,e,m){var a={"./temp-diary.svg":"b427","./temp-notes.svg":"dc1a","./temp-novel.svg":"ef77","./temp-postIt.svg":"b1ce","./temp-share.svg":"6059","./temp-storage.svg":"83e2","./temp-todo.svg":"bfb4"};function s(t){var e=i(t);return m(e)}function i(t){if(!m.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=i,t.exports=s,s.id="0a31"},1071:function(t,e,m){"use strict";m.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"md-scrollbar",attrs:{id:"edit"}},[t.user.isSignIn?t._e():a("div",{staticClass:"tc-warn md-body-1 lh-5"},[a("md-icon",[t._v("error_outline")]),t._v(" 提醒您！您目前尚未登入會員，您的編輯內容將以匿名形式發出，並且不會被記錄！")],1),a("div",{staticClass:"md-layout md-alignment-space-around"},[a("div",{staticClass:"md-layout-item md-size-33 md-small-size-100 md-xsmall-size-100",attrs:{id:"temp"}},[a("div",{staticClass:"md-layout md-md-alignment-space-around-left "},t._l(t.tempList,(function(e,s){return a("div",{key:s,staticClass:"md-layout-item md-xlarge-size-50 md-large-size-50 md-medium-size-50 md-small-size-15 md-xsmall-size-15",on:{click:function(e){return t.tempShow(s)}}},[e.show?a("md-card",{attrs:{"md-with-hover":""}},[a("md-ripple",[a("md-card-media-cover",[a("md-card-media",{attrs:{"md-ratio":"4:3"}},[a("img",{attrs:{src:m("0a31")("./temp-"+e.subhead+".svg"),alt:e.subhead}})]),a("md-card-area",[a("md-card-header",[a("span",{staticClass:"md-subhead md-small-hide"},[t._v(" "+t._s(e.name)+" ")])])],1)],1)],1)],1):t._e()],1)})),0)]),a("div",{staticClass:"md-layout-item md-size-66 md-small-size-100 md-xsmall-size-100",attrs:{id:"tempEdit"}},[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("form",{staticClass:"md-layout-item md-size-66 md-xsmall-size-100",on:{submit:function(e){return e.preventDefault(),t.submitEdit.apply(null,arguments)},reset:t.clearForm}},[a("md-card",{staticStyle:{padding:"1.3rem 0 1rem 0"}},[a("md-card-header",[a("h4",{staticClass:"title"},[t._v(" "+t._s(t.tempList[t.tempForm.template].name)+" ")]),a("p",{staticClass:"category"},[t._v(" "+t._s(t.authorName)+" ")])]),0===t.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():a("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("img-inputer",{attrs:{accept:"image/*",theme:"material","auto-upload":!0,capture:!0,placeholder:"點擊或拖曳選擇"+t.tempList[t.tempForm.template].input[3].name,"bottom-text":"點擊或拖曳以修改"},model:{value:t.tempForm.image,callback:function(e){t.$set(t.tempForm,"image",e)},expression:"tempForm.image"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[4].name))]),a("md-input",{model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}}),a("span",{staticClass:"md-helper-text"},[t._v("作者、書名、社團名稱或某個網站...")])],1)],1)]):t._e(),1===t.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():a("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":"","md-counter":!0}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),a("md-input",{model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}})],1)],1)]):t._e(),2===t.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():a("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("label",{staticClass:"label"},[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),a("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.tempForm.datepicker,callback:function(e){t.$set(t.tempForm,"datepicker",e)},expression:"tempForm.datepicker"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[4].name))]),a("md-input",{model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}}),a("span",{staticClass:"md-helper-text"},[t._v("輸入待辦事項")])],1)],1)]):t._e(),3===t.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():a("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("label",{staticClass:"label"},[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),a("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.tempForm.datepicker,callback:function(e){t.$set(t.tempForm,"datepicker",e)},expression:"tempForm.datepicker"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[4].name))]),a("md-textarea",{model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",{attrs:{for:"select"}},[t._v(t._s(t.tempList[t.tempForm.template].input[5].name))]),a("md-select",{attrs:{name:"select",placeholder:t.tempList[t.tempForm.template].input[5].name},model:{value:t.tempForm.select,callback:function(e){t.$set(t.tempForm,"select",e)},expression:"tempForm.select"}},[a("md-option"),t._l(t.tempList[t.tempForm.template].input[5].selectList,(function(e,m){return a("md-option",{key:m,attrs:{value:m}},[t._v(" "+t._s(e)+" ")])}))],2)],1)],1)]):t._e(),4===t.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():a("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),a("md-textarea",{model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}})],1)],1)]):t._e(),5===t.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():a("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),a("md-input",{model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}})],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("img-inputer",{attrs:{accept:"image/*",theme:"material","auto-upload":!0,capture:!0,placeholder:"點擊或拖曳選擇"+t.tempList[t.tempForm.template].input[2].name,"bottom-text":"點擊或拖曳以修改"},model:{value:t.tempForm.image,callback:function(e){t.$set(t.tempForm,"image",e)},expression:"tempForm.image"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[5].name))]),a("md-textarea",{model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",{attrs:{for:"select"}},[t._v(t._s(t.tempList[t.tempForm.template].input[6].name))]),a("md-select",{attrs:{name:"select",placeholder:t.tempList[t.tempForm.template].input[6].name},model:{value:t.tempForm.select,callback:function(e){t.$set(t.tempForm,"select",e)},expression:"tempForm.select"}},[a("md-option"),t._l(t.tempList[t.tempForm.template].input[6].selectList,(function(e,m){return a("md-option",{key:m,attrs:{value:m}},[t._v(" "+t._s(e)+" ")])}))],2)],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("label",{staticClass:"label"},[t._v(t._s(t.tempList[t.tempForm.template].input[7].name))]),a("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.tempForm.datepicker,callback:function(e){t.$set(t.tempForm,"datepicker",e)},expression:"tempForm.datepicker"}})],1)],1)]):t._e(),6===t.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():a("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("img-inputer",{attrs:{accept:"image/*",theme:"material","auto-upload":!0,capture:!0,placeholder:"點擊或拖曳選擇"+t.tempList[t.tempForm.template].input[2].name,"bottom-text":"點擊或拖曳以修改"},model:{value:t.tempForm.image,callback:function(e){t.$set(t.tempForm,"image",e)},expression:"tempForm.image"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),a("md-textarea",{model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[t._v(t._s(t.tempList[t.tempForm.template].input[4].name))]),a("md-input",{model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}})],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("label",{staticClass:"label"},[t._v(t._s(t.tempList[t.tempForm.template].input[5].name))]),a("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.tempForm.datepicker,callback:function(e){t.$set(t.tempForm,"datepicker",e)},expression:"tempForm.datepicker"}})],1)],1)]):t._e(),t.sending?a("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):t._e(),a("md-card-actions",{staticClass:"md-layout md-alignment-center-center"},[a("div",{staticClass:"md-layout-item md-size-90"},[a("div",{staticClass:"md-layout md-alignment-center-space-between"},[a("div",{staticClass:"md-layout-item md-size-25"},[a("label",{staticClass:"label"},[t._v("share")]),a("md-switch",{staticClass:"md-primary",model:{value:t.tempList[t.tempForm.template].input[0].value,callback:function(e){t.$set(t.tempList[t.tempForm.template].input[0],"value",e)},expression:"tempList[tempForm.template].input[0].value"}})],1),a("div",{staticClass:"md-layout-item md-size-75 md-alignment-center-space-between"},[a("md-button",{staticClass:"md-raised",attrs:{type:"reset"}},[t._v(" RESET ")]),a("md-button",{staticClass:"md-raised",attrs:{type:"submit",disabled:t.sending}},[t._v(" Submit ")])],1)])])])],1)],1)]),a("md-dialog",{attrs:{"md-active":t.formSaved},on:{"update:mdActive":function(e){t.formSaved=e},"update:md-active":function(e){t.formSaved=e}}},[a("md-dialog-title",[t._v(t._s(t.savedMsg))]),a("md-dialog-actions",[a("md-button",{staticClass:"md-primary",on:{click:function(e){t.formSaved=!1}}},[t._v("關閉")]),t.user.isSignIn?a("md-button",{staticClass:"md-primary",attrs:{to:"/member/memberArticle"},on:{click:function(e){t.formSaved=!1}}},[t._v("去瞧瞧...")]):a("md-button",{staticClass:"md-primary",attrs:{to:"/collection"},on:{click:function(e){t.formSaved=!1}}},[t._v("去瞧瞧...")])],1)],1)],1)])])},s=[],i=m("1da1"),r=(m("96cf"),m("a9e3"),m("b0c0"),m("1dce")),l=m("b5ae"),o={name:"Edit",mixins:[r["validationMixin"]],data:function(){return{tempForm:{_id:"",template:0,title:"",share:!0,publicOff:!1,image:null,textarea:"",text:"",select:"",datepicker:Number(new Date),date:Number(new Date)},sending:!1,formSaved:!1,savedMsg:""}},validations:{tempForm:{title:{required:l["required"],minLength:Object(l["minLength"])(1)}}},watch:{},computed:{user:function(){return this.$store.getters.user}},methods:{tempShow:function(t){console.log(t),this.tempForm.template=t},errorClass:function(t){var e=this.$v.tempForm[t];if(e)return{"md-invalid":e.$invalid&&e.$dirty}},submitEdit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var m,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in t.sending=!0,e.prev=1,m=new FormData,t.tempForm)m.append(a,t.tempForm[a]);if(m.append("author",t.authorName),m.append("avatar",t.avatarImg),1!==t.$store.state.user.role&&0!==t.$store.state.user.role){e.next=11;break}return e.next=9,t.axios.post("/article/member",m,{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 9:e.next=13;break;case 11:return e.next=13,t.axios.post("/article",m);case 13:t.savedMsg=t.tempList[t.tempForm.template].name+"-"+t.tempForm.title+"was saved with success!",t.formSaved=!0,t.clearForm(),e.next=26;break;case 18:e.prev=18,e.t0=e["catch"](1),console.log(e.t0),s="",s=null===e.t0.response.data.message?e.t0:e.t0.response.data.message,t.savedMsg="Saved with "+s,t.formSaved=!0,t.sending=!0;case 26:t.sending=!1;case 27:case"end":return e.stop()}}),e,null,[[1,18]])})))()},clearForm:function(){this.tempForm={_id:"",template:0,title:"",image:null,textarea:"",text:"",select:"",datepicker:Number(new Date)},this.sending=!1}}},d=o,n=m("2877"),p=Object(n["a"])(d,a,s,!1,null,null,null);e["default"]=p.exports},6059:function(t,e,m){t.exports=m.p+"img/temp-share.5f34bd92.svg"},"83e2":function(t,e,m){t.exports=m.p+"img/temp-storage.0cc1010c.svg"},b1ce:function(t,e,m){t.exports=m.p+"img/temp-postIt.7a1b4200.svg"},b427:function(t,e,m){t.exports=m.p+"img/temp-diary.12c365bd.svg"},bfb4:function(t,e,m){t.exports=m.p+"img/temp-todo.624bae4f.svg"},dc1a:function(t,e,m){t.exports=m.p+"img/temp-notes.449b4d69.svg"},ef77:function(t,e,m){t.exports=m.p+"img/temp-novel.08e150f8.svg"}}]);
//# sourceMappingURL=edit.1d214869.js.map