(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["edit"],{"0a31":function(t,e,a){var m={"./temp-diary.svg":"b427","./temp-notes.svg":"dc1a","./temp-novel.svg":"ef77","./temp-postIt.svg":"b1ce","./temp-share.svg":"6059","./temp-storage.svg":"83e2","./temp-todo.svg":"bfb4"};function s(t){var e=i(t);return a(e)}function i(t){if(!a.o(m,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return m[t]}s.keys=function(){return Object.keys(m)},s.resolve=i,t.exports=s,s.id="0a31"},1071:function(t,e,a){"use strict";a.r(e);var m=function(){var t=this,e=t.$createElement,m=t._self._c||e;return m("div",{staticClass:"md-scrollbar",attrs:{id:"edit"}},[m("div",{staticClass:"md-layout md-alignment-space-around"},[m("div",{staticClass:"md-layout-item md-size-33 md-small-size-100 md-xsmall-size-100",attrs:{id:"temp"}},[m("div",{staticClass:"md-layout md-md-alignment-space-around-left "},t._l(t.tempList,(function(e,s){return m("div",{key:s,staticClass:"md-layout-item md-xlarge-size-50 md-large-size-50 md-medium-size-50 md-small-size-15 md-xsmall-size-15",on:{click:function(e){return t.tempShow(s)}}},[e.show?m("md-card",{attrs:{"md-with-hover":""}},[m("md-ripple",[m("md-card-media-cover",[m("md-card-media",{attrs:{"md-ratio":"4:3"}},[m("img",{attrs:{src:a("0a31")("./temp-"+e.subhead+".svg"),alt:e.subhead}})]),m("md-card-area",[m("md-card-header",[m("span",{staticClass:"md-subhead md-small-hide"},[t._v(" "+t._s(e.name)+" ")])])],1)],1)],1)],1):t._e()],1)})),0)]),m("div",{staticClass:"md-layout-item md-size-66 md-small-size-100 md-xsmall-size-100",attrs:{id:"tempEdit"}},[m("div",{staticClass:"md-layout md-alignment-center-center",staticStyle:{padding:"2rem"}},[m("form",{staticClass:"md-layout-item md-size-66 md-xsmall-size-100",on:{submit:function(e){return e.preventDefault(),t.submitEdit.apply(null,arguments)},reset:t.clearForm}},[m("md-card",{staticStyle:{padding:"1.3rem 0 1rem 0"}},[m("md-card-header",[m("h4",{staticClass:"title"},[t._v(" "+t._s(t.tempList[t.tempForm.template].name)+" ")]),m("p",{staticClass:"category"},[t._v(" "+t._s(t.tempForm.author)+" ")])]),0===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}})],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("img-inputer",{attrs:{accept:"image/*",theme:"material","auto-upload":!0,capture:!0,placeholder:"點擊或拖曳選擇"+t.tempList[t.tempForm.template].input[3].name,"bottom-text":"點擊或拖曳以修改"},model:{value:t.tempForm.image,callback:function(e){t.$set(t.tempForm,"image",e)},expression:"tempForm.image"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[4].name))]),m("md-input",{model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}}),m("span",{staticClass:"md-helper-text"},[t._v("作者、書名、社團名稱或某個網站...")])],1)],1)]):t._e(),1===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":"","md-counter":!0}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),m("md-input",{model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}})],1)],1)]):t._e(),2===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}})],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("label",{staticClass:"label"},[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),m("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.tempForm.datepicker,callback:function(e){t.$set(t.tempForm,"datepicker",e)},expression:"tempForm.datepicker"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[4].name))]),m("md-input",{model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}}),m("span",{staticClass:"md-helper-text"},[t._v("輸入待辦事項")])],1)],1)]):t._e(),3===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}})],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("label",{staticClass:"label"},[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),m("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.tempForm.datepicker,callback:function(e){t.$set(t.tempForm,"datepicker",e)},expression:"tempForm.datepicker"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[4].name))]),m("md-textarea",{model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",{attrs:{for:"select"}},[t._v(t._s(t.tempList[t.tempForm.template].input[5].name))]),m("md-select",{attrs:{name:"select",placeholder:t.tempList[t.tempForm.template].input[5].name},model:{value:t.tempForm.select,callback:function(e){t.$set(t.tempForm,"select",e)},expression:"tempForm.select"}},[m("md-option"),t._l(t.tempList[t.tempForm.template].input[5].selectList,(function(e,a){return m("md-option",{key:a,attrs:{value:a}},[t._v(" "+t._s(e)+" ")])}))],2)],1)],1)]):t._e(),4===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),m("md-textarea",{model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}})],1)],1)]):t._e(),5===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),m("md-input",{model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}})],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("img-inputer",{attrs:{accept:"image/*",theme:"material","auto-upload":!0,capture:!0,placeholder:"點擊或拖曳選擇"+t.tempList[t.tempForm.template].input[2].name,"bottom-text":"點擊或拖曳以修改"},model:{value:t.tempForm.image,callback:function(e){t.$set(t.tempForm,"image",e)},expression:"tempForm.image"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[5].name))]),m("md-textarea",{model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",{attrs:{for:"select"}},[t._v(t._s(t.tempList[t.tempForm.template].input[6].name))]),m("md-select",{attrs:{name:"select",placeholder:t.tempList[t.tempForm.template].input[6].name},model:{value:t.tempForm.select,callback:function(e){t.$set(t.tempForm,"select",e)},expression:"tempForm.select"}},[m("md-option"),t._l(t.tempList[t.tempForm.template].input[6].selectList,(function(e,a){return m("md-option",{key:a,attrs:{value:a}},[t._v(" "+t._s(e)+" ")])}))],2)],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("label",{staticClass:"label"},[t._v(t._s(t.tempList[t.tempForm.template].input[7].name))]),m("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.tempForm.datepicker,callback:function(e){t.$set(t.tempForm,"datepicker",e)},expression:"tempForm.datepicker"}})],1)],1)]):t._e(),6===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}})],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("img-inputer",{attrs:{accept:"image/*",theme:"material","auto-upload":!0,capture:!0,placeholder:"點擊或拖曳選擇"+t.tempList[t.tempForm.template].input[2].name,"bottom-text":"點擊或拖曳以修改"},model:{value:t.tempForm.image,callback:function(e){t.$set(t.tempForm,"image",e)},expression:"tempForm.image"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),m("md-textarea",{model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[4].name))]),m("md-input",{model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}})],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("label",{staticClass:"label"},[t._v(t._s(t.tempList[t.tempForm.template].input[5].name))]),m("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.tempForm.datepicker,callback:function(e){t.$set(t.tempForm,"datepicker",e)},expression:"tempForm.datepicker"}})],1)],1)]):t._e(),t.sending?m("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):t._e(),m("md-card-actions",{staticClass:"md-layout md-alignment-center-center"},[m("div",{staticClass:"md-layout-item md-size-90"},[m("div",{staticClass:"md-layout md-alignment-center-space-between"},[m("div",{staticClass:"md-layout-item md-size-25"},[m("label",{staticClass:"label"},[t._v("share")]),m("md-switch",{staticClass:"md-primary",model:{value:t.tempList[t.tempForm.template].input[0].value,callback:function(e){t.$set(t.tempList[t.tempForm.template].input[0],"value",e)},expression:"tempList[tempForm.template].input[0].value"}})],1),m("div",{staticClass:"md-layout-item md-size-75 md-alignment-center-space-between"},[m("md-button",{staticClass:"md-raised",attrs:{type:"reset"}},[t._v(" RESET ")]),m("md-button",{staticClass:"md-raised",attrs:{type:"submit",disabled:t.sending}},[t._v(" Submit ")])],1)])])])],1)],1)]),m("md-dialog",{attrs:{"md-active":t.formSaved},on:{"update:mdActive":function(e){t.formSaved=e},"update:md-active":function(e){t.formSaved=e}}},[m("md-dialog-title",[t._v(t._s(t.savedMsg))]),m("md-dialog-actions",[m("md-button",{staticClass:"md-primary",on:{click:function(e){t.formSaved=!1}}},[t._v("關閉")]),t.user.isSignIn?m("md-button",{staticClass:"md-primary",attrs:{to:"/member/memberArticle"},on:{click:function(e){t.formSaved=!1}}},[t._v("去瞧瞧...")]):m("md-button",{staticClass:"md-primary",attrs:{to:"/collection"},on:{click:function(e){t.formSaved=!1}}},[t._v("去瞧瞧...")])],1)],1)],1)])])},s=[],i=a("1da1"),r=(a("96cf"),a("a9e3"),a("b0c0"),{name:"Edit",data:function(){return{tempForm:{_id:"",template:0,title:"",author:"",avatar:"",share:!0,image:null,textarea:"",text:"",select:"",datepicker:Number(new Date),date:Number(new Date)},sending:!1,formSaved:!1,savedMsg:""}},watch:{author:function(){this.author=this.user.name},avatar:function(){this.avatar=this.user.avatar}},methods:{tempShow:function(t){console.log(t),this.tempForm.template=t},submitEdit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,m,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(m in t.sending=!0,e.prev=1,a=new FormData,t.tempForm)a.append(m,t.tempForm[m]);if(1!==t.$store.state.user.role&&0!==t.$store.state.user.role){e.next=9;break}return e.next=7,t.axios.post("/article/member",a,{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 7:e.next=11;break;case 9:return e.next=11,t.axios.post("/article",a);case 11:t.savedMsg=t.tempList[t.tempForm.template].name+"-"+t.tempForm.title+"was saved with success!",t.formSaved=!0,t.clearForm(),e.next=24;break;case 16:e.prev=16,e.t0=e["catch"](1),console.log(e.t0),s="",s=null===e.t0.response.data.message?e.t0:e.t0.response.data.message,t.savedMsg="Saved with "+s,t.formSaved=!0,t.sending=!0;case 24:t.sending=!1;case 25:case"end":return e.stop()}}),e,null,[[1,16]])})))()},clearForm:function(){this.tempForm={_id:"",template:0,title:"",image:null,textarea:"",text:"",select:"",datepicker:Number(new Date)},this.sending=!1}},computed:{user:function(){return this.$store.getters.user}}}),l=r,o=a("2877"),n=Object(o["a"])(l,m,s,!1,null,null,null);e["default"]=n.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var m=a("1d80"),s=a("5899"),i="["+s+"]",r=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),o=function(t){return function(e){var a=String(m(e));return 1&t&&(a=a.replace(r,"")),2&t&&(a=a.replace(l,"")),a}};t.exports={start:o(1),end:o(2),trim:o(3)}},6059:function(t,e,a){t.exports=a.p+"img/temp-share.5f34bd92.svg"},7156:function(t,e,a){var m=a("861d"),s=a("d2bb");t.exports=function(t,e,a){var i,r;return s&&"function"==typeof(i=e.constructor)&&i!==a&&m(r=i.prototype)&&r!==a.prototype&&s(t,r),t}},"83e2":function(t,e,a){t.exports=a.p+"img/temp-storage.0cc1010c.svg"},a9e3:function(t,e,a){"use strict";var m=a("83ab"),s=a("da84"),i=a("94ca"),r=a("6eeb"),l=a("5135"),o=a("c6b6"),n=a("7156"),d=a("c04e"),p=a("d039"),c=a("7c73"),u=a("241c").f,v=a("06cf").f,f=a("9bf2").f,F=a("58a8").trim,b="Number",g=s[b],x=g.prototype,_=o(c(x))==b,y=function(t){var e,a,m,s,i,r,l,o,n=d(t,!1);if("string"==typeof n&&n.length>2)if(n=F(n),e=n.charCodeAt(0),43===e||45===e){if(a=n.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(n.charCodeAt(1)){case 66:case 98:m=2,s=49;break;case 79:case 111:m=8,s=55;break;default:return+n}for(i=n.slice(2),r=i.length,l=0;l<r;l++)if(o=i.charCodeAt(l),o<48||o>s)return NaN;return parseInt(i,m)}return+n};if(i(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var C,h=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof h&&(_?p((function(){x.valueOf.call(a)})):o(a)!=b)?n(new g(y(e)),a,h):y(e)},k=m?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),z=0;k.length>z;z++)l(g,C=k[z])&&!l(h,C)&&f(h,C,v(g,C));h.prototype=x,x.constructor=h,r(s,b,h)}},b1ce:function(t,e,a){t.exports=a.p+"img/temp-postIt.7a1b4200.svg"},b427:function(t,e,a){t.exports=a.p+"img/temp-diary.12c365bd.svg"},bfb4:function(t,e,a){t.exports=a.p+"img/temp-todo.624bae4f.svg"},dc1a:function(t,e,a){t.exports=a.p+"img/temp-notes.449b4d69.svg"},ef77:function(t,e,a){t.exports=a.p+"img/temp-novel.08e150f8.svg"}}]);
//# sourceMappingURL=edit.3666cadd.js.map