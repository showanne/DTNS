(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["member"],{"0328":function(t,e,a){t.exports=a.p+"img/dateS.1dcfda2d.svg"},"0a31":function(t,e,a){var i={"./temp-diary.svg":"b427","./temp-notes.svg":"dc1a","./temp-novel.svg":"ef77","./temp-postIt.svg":"b1ce","./temp-share.svg":"6059","./temp-storage.svg":"83e2","./temp-todo.svg":"bfb4"};function r(t){var e=s(t);return a(e)}function s(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=s,t.exports=r,r.id="0a31"},1031:function(t,e,a){t.exports=a.p+"img/action-delete.3dbfa11b.svg"},"37cf":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"h-content md-layout md-alignment-center-center",attrs:{id:"memberReply"}},[a("div",{staticClass:"md-layout-item md-size-66 md-small-size-85 md-xsmall-size-100"},[a("md-card",{staticClass:"p-5"},[a("div",{staticClass:"md-title text-center"},[t._v("問題回報")]),a("form",{staticClass:"w-contact-modal",on:{submit:function(e){return e.preventDefault(),t.submitIssue.apply(null,arguments)},reset:t.clearForm}},[a("md-field",{staticClass:"md-form-group"},[a("label",[a("md-icon",[t._v("help_outline")]),t._v(" 主要問題... ")],1),a("md-select",{attrs:{name:"majorIssue",required:""}},[a("md-option"),a("md-option",{attrs:{value:"編輯權限"}},[t._v("編輯權限")]),a("md-option",{attrs:{value:"網頁功能"}},[t._v("網頁功能")]),a("md-option",{attrs:{value:"文章編輯"}},[t._v("文章編輯")]),a("md-option",{attrs:{value:"其他"}},[t._v("其他")])],1)],1),a("md-field",{staticClass:"md-form-group"},[a("label",[t._v("問題描述 ...")]),a("md-textarea",{attrs:{"md-counter":"40",required:""}})],1),a("div",{staticClass:"md-layout md-alignment-center-space-between"},[a("md-button",{staticClass:"md-layout-item md-size-45 md-raised md-primary",attrs:{type:"reset"}},[t._v(" 重設 ")]),a("md-button",{staticClass:"md-layout-item md-size-45 md-raised md-accent",attrs:{type:"submit"}},[t._v(" 送出 ")])],1)],1)])],1)])},r=[],s=a("1da1"),n=(a("96cf"),{name:"MemberReply",data:function(){return{send:"",contactForm:{majorIssue:"",issueDescription:"",nickname:"",date:Date.now()}}},methods:{submitIssue:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t.contactForm),t.clearForm();case 2:case"end":return e.stop()}}),e)})))()},clearForm:function(){this.contactForm={majorIssue:"",issueDescription:""}}}}),c=n,m=a("2877"),l=Object(m["a"])(c,i,r,!1,null,null,null);e["default"]=l.exports},"436e":function(t,e,a){t.exports=a.p+"img/action-addEdit.bc71d465.svg"},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var i=a("1d80"),r=a("5899"),s="["+r+"]",n=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),m=function(t){return function(e){var a=String(i(e));return 1&t&&(a=a.replace(n,"")),2&t&&(a=a.replace(c,"")),a}};t.exports={start:m(1),end:m(2),trim:m(3)}},"5b44":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"memberProfile"}},[t._v(" memberProfilememberProfile ")])},r=[],s={name:"MemberProfile"},n=s,c=a("2877"),m=Object(c["a"])(n,i,r,!1,null,null,null);e["default"]=m.exports},6059:function(t,e,a){t.exports=a.p+"img/temp-share.5f34bd92.svg"},7156:function(t,e,a){var i=a("861d"),r=a("d2bb");t.exports=function(t,e,a){var s,n;return r&&"function"==typeof(s=e.constructor)&&s!==a&&i(n=s.prototype)&&n!==a.prototype&&r(t,n),t}},"80d2":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"member"}},[a("transition",[a("keep-alive",[a("router-view")],1)],1)],1)},r=[],s={name:"Member"},n=s,c=a("2877"),m=Object(c["a"])(n,i,r,!1,null,null,null);e["default"]=m.exports},"83e2":function(t,e,a){t.exports=a.p+"img/temp-storage.0cc1010c.svg"},a9e3:function(t,e,a){"use strict";var i=a("83ab"),r=a("da84"),s=a("94ca"),n=a("6eeb"),c=a("5135"),m=a("c6b6"),l=a("7156"),d=a("c04e"),o=a("d039"),u=a("7c73"),p=a("241c").f,v=a("06cf").f,f=a("9bf2").f,b=a("58a8").trim,g="Number",_=r[g],h=_.prototype,x=m(u(h))==g,C=function(t){var e,a,i,r,s,n,c,m,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=b(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+l}for(s=l.slice(2),n=s.length,c=0;c<n;c++)if(m=s.charCodeAt(c),m<48||m>r)return NaN;return parseInt(s,i)}return+l};if(s(g,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var y,w=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof w&&(x?o((function(){h.valueOf.call(a)})):m(a)!=g)?l(new _(C(e)),a,w):C(e)},F=i?p(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),k=0;F.length>k;k++)c(_,y=F[k])&&!c(w,y)&&f(w,y,v(_,y));w.prototype=h,h.constructor=w,n(r,g,w)}},ae3d:function(t,e,a){t.exports=a.p+"img/action-report.6be8afee.svg"},b1ce:function(t,e,a){t.exports=a.p+"img/temp-postIt.7a1b4200.svg"},b427:function(t,e,a){t.exports=a.p+"img/temp-diary.12c365bd.svg"},bfb4:function(t,e,a){t.exports=a.p+"img/temp-todo.624bae4f.svg"},bfb5:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"memberAnalytics"}},[a("md-empty-state",{staticClass:"md-primary",attrs:{"md-icon":"query_stats","md-label":"Nothing in Done","md-description":"Anything you mark done will be safely stored here."}})],1)},r=[],s={name:"MemberAnalytics"},n=s,c=a("2877"),m=Object(c["a"])(n,i,r,!1,null,null,null);e["default"]=m.exports},d81d:function(t,e,a){"use strict";var i=a("23e7"),r=a("b727").map,s=a("1dde"),n=s("map");i({target:"Array",proto:!0,forced:!n},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},dc1a:function(t,e,a){t.exports=a.p+"img/temp-notes.449b4d69.svg"},ef77:function(t,e,a){t.exports=a.p+"img/temp-novel.08e150f8.svg"},fc26:function(t,e,a){t.exports=a.p+"img/action-good.3bb245ab.svg"},fe12:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"memberArticle"}},[t.loading?a("md-empty-state",{attrs:{"md-icon":"submit","md-label":"Loading..."}},[a("md-progress-spinner",{staticClass:"md-accent loading",attrs:{"md-diameter":100,"md-stroke":10,"md-mode":"indeterminate"}})],1):""==t.articleM?a("md-empty-state",{staticClass:"md-primary",attrs:{"md-icon":"travel_explore","md-label":"快來開始吧！"}},[a("md-button",{staticClass:"md-accent md-raised h-unset p-3 fz-5 ls-2",attrs:{to:"/edit"}},[t._v("紀錄讓你感動的瞬間")]),a("md-button",{staticClass:"md-primary md-raised h-unset p-3 fz-5 ls-2",attrs:{to:"/collection"}},[t._v("在文字的世界裡遨遊")])],1):a("div",{staticClass:"md-layout md-alignment-center"},[a("div",{directives:[{name:"masonry",rawName:"v-masonry"}],staticClass:"masonry-container",attrs:{"transition-duration":"0.3s","item-selector":".tempCardForMember","fit-width":"true"}},t._l(t.articleM,(function(t,e){return a("TempCardForMember",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:e,staticClass:"tempCardForMember",attrs:{index:e,item:t}})})),1)])],1)},r=[],s=a("1da1"),n=(a("96cf"),a("a9e3"),a("d81d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("md-card",{staticClass:"px-3 py-2",attrs:{"md-with-hover":""}},[i("md-card-header",{staticClass:"md-layout md-alignment-center-space-around"},[i("div",{staticClass:"md-layout-item"},[i("md-icon",{staticClass:"d-inline-block",attrs:{"md-src":a("0a31")("./temp-"+t.tempList[t.item.article.template].subhead+".svg")}}),i("span",{staticClass:"pl-2"},[t._v(t._s(t.tempList[t.item.article.template].name))])],1),i("div",{staticClass:"md-layout-item text-right md-subhead"},[i("md-icon",{staticClass:"d-inline-block",attrs:{"md-src":a("0328")}}),i("span",{staticClass:"pl-2"},[t._v(t._s(t.item.article.date))])],1)]),0===t.item.article.template?i("md-card-content",[t.item.article.image?i("md-card-media",[i("img",{attrs:{src:t.item.article.image,alt:""}})]):t._e(),i("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),i("div",{staticClass:"md-body-1 text-v-html",domProps:{innerHTML:t._s(t.item.article.text)}})],1):t._e(),1===t.item.article.template?i("md-card-content",[i("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),i("div",{staticClass:"md-body-1 text-v-html",domProps:{innerHTML:t._s(t.item.article.text)}})]):t._e(),2===t.item.article.template?i("md-card-content",[i("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),i("div",{staticClass:"md-subhead"},[t._v("期限："+t._s(t.item.article.datepicker))]),i("div",{staticClass:"md-body-1 text-v-html",domProps:{innerHTML:t._s(t.item.article.text)}})]):t._e(),3===t.item.article.template?i("md-card-content",[i("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),i("div",{staticClass:"md-subhead"},[t._v("期限："+t._s(t.item.article.datepicker))]),i("div",{staticClass:"md-subhead"},[t._v("心情："+t._s(t.item.article.select))]),i("div",{staticClass:"md-body-1 text-v-html",domProps:{innerHTML:t._s(t.item.article.textarea)}})]):t._e(),4===t.item.article.template?i("md-card-content",[i("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),i("div",{staticClass:"md-body-1 text-v-html",domProps:{innerHTML:t._s(t.item.article.textarea)}})]):t._e(),5===t.item.article.template?i("md-card-content",[t.item.article.image?i("md-card-media",[i("img",{attrs:{src:t.item.article.image,alt:""}})]):t._e(),i("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),i("div",{staticClass:"md-subhead"},[t._v("作者："+t._s(t.item.article.text))]),i("div",{staticClass:"md-subhead"},[t._v("是否已完結："+t._s(t.item.article.select))]),i("div",{staticClass:"md-subhead"},[t._v("完結日期："+t._s(t.item.article.datepicker))]),i("div",{staticClass:"md-body-1 text-v-html",domProps:{innerHTML:t._s(t.item.article.textarea)}})],1):t._e(),6===t.item.article.template?i("md-card-content",[t.item.article.image?i("md-card-media",[i("img",{attrs:{src:t.item.article.image,alt:""}})]):t._e(),i("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),i("div",{staticClass:"md-subhead"},[t._v("購買日期："+t._s(t.item.article.datepicker))]),i("div",{staticClass:"md-subhead"},[i("md-icon",[t._v("share_location")]),t._v(" 存放地點："+t._s(t.item.article.text)+" ")],1),i("div",{staticClass:"md-body-1 text-v-html",domProps:{innerHTML:t._s(t.item.article.textarea)}})],1):t._e(),i("md-card-actions",{attrs:{"md-alignment":"space-between"}},[i("md-button",{staticClass:"md-button w-unset md-dense",on:{click:function(e){return t.editArticle(t.index)}}},[i("md-icon",{attrs:{"md-src":a("436e")}})],1),i("md-button",{staticClass:"md-button w-unset md-dense",on:{click:function(e){return t.deleteArticle(t.index)}}},[i("md-icon",{attrs:{"md-src":a("1031")}})],1),i("md-button",{staticClass:"md-button w-unset"},[i("md-icon",{staticClass:"d-inline-block",attrs:{"md-src":a("9e9c")}}),i("span",{staticClass:"px-1"},[t._v("--")])],1),i("md-button",{staticClass:"md-button w-unset"},[i("md-icon",{staticClass:"d-inline-block",attrs:{"md-src":a("fc26")}}),i("span",{staticClass:"px-1"},[t._v("--")])],1),t.item.article.publicOff?i("md-button",{staticClass:"md-button w-unset",attrs:{disabled:""}},[i("md-icon",{attrs:{"md-src":a("ae3d")}})],1):t._e(),i("md-button",{staticClass:"md-button w-unset md-dense"},[i("a",{attrs:{href:"http://line.naver.jp/R/msg/text/?DTNS分享吧！–&nbsp;"+t.item.article.title+"%0D%0Ahttps://showanne.github.io/DTNS"}},[i("md-icon",{attrs:{"md-src":a("97a2")}})],1)])],1),i("md-dialog",{attrs:{"md-active":t.editArticleModal},on:{"update:mdActive":function(e){t.editArticleModal=e},"update:md-active":function(e){t.editArticleModal=e}}},[i("md-dialog-title",[t._v("編輯文章")]),i("md-dialog-content",[i("form",{staticClass:"md-layout md-alignment-center-center"},[t.editForm.article.title?i("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[i("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.editForm.article.title,callback:function(e){t.$set(t.editForm.article,"title",e)},expression:"editForm.article.title"}})],1):t._e(),t.editForm.article.textarea?i("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[i("md-textarea",{model:{value:t.editForm.article.textarea,callback:function(e){t.$set(t.editForm.article,"textarea",e)},expression:"editForm.article.textarea"}})],1):t._e(),t.editForm.article.text?i("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[i("md-input",{model:{value:t.editForm.article.text,callback:function(e){t.$set(t.editForm.article,"text",e)},expression:"editForm.article.text"}})],1):t._e(),t.editForm.article.datepicker?i("div",{staticClass:"md-layout-item md-size-45"},[i("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.editForm.article.datepicker,callback:function(e){t.$set(t.editForm.article,"datepicker",e)},expression:"editForm.article.datepicker"}})],1):t._e(),t.editForm.article.share?i("div",{staticClass:"md-layout-item md-size-45 ml-3"},[i("label",{staticClass:"label"},[t._v("公開至分享牆")]),i("md-switch",{staticClass:"md-primary m-1",model:{value:t.editForm.article.share,callback:function(e){t.$set(t.editForm.article,"share",e)},expression:"editForm.article.share"}})],1):t._e(),t.editForm.article.image?i("div",{staticClass:"md-layout-item md-size-90"},[i("img-inputer",{attrs:{accept:"image/*",theme:"material",capture:!0,placeholder:"點擊或拖曳選擇相片","bottom-text":"點擊或拖曳以修改"},model:{value:t.editForm.article.image,callback:function(e){t.$set(t.editForm.article,"image",e)},expression:"editForm.article.image"}})],1):t._e()],1)]),i("md-dialog-actions",[i("md-button",{staticClass:"md-primary",on:{click:function(e){return t.submitArticle(t.index)}}},[t._v("確定")]),i("md-button",{staticClass:"md-primary",on:{click:function(e){t.editArticleModal=!1}}},[t._v("取消")])],1)],1)],1)}),c=[],m=(a("99af"),{name:"TempCardForMember",data:function(){return{editArticleModal:!1,editForm:[]}},props:{item:{type:Object,required:!0},index:{type:Number,required:!0}},methods:{editArticle:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.editArticleModal=!0,console.log(t,e.index),e.editForm=e.item;case 3:case"end":return a.stop()}}),a)})))()},submitArticle:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(r in console.log(t),console.log(e.item._id),a.prev=2,console.log(e.editForm),i=new FormData,e.editForm.article)i.append(r,e.editForm.article[r]);return a.next=8,e.axios.patch("/article/member/"+e.item._id,i,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 8:e.editArticleModal=!1,a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](2),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[2,11]])})))()},deleteArticle:function(t){alert("deleteArticle",t)}},mounted:function(){this.item.article.image&&(this.item.article.image="".concat("https://dtns-web.herokuapp.com","/file/").concat(this.item.article.image)),(this.item.article.datepicker||this.item.article.date)&&(this.item.article.datepicker=new Date(this.item.article.datepicker).toLocaleDateString(),this.item.article.date=new Date(this.item.article.date).toLocaleDateString())}}),l=m,d=a("2877"),o=Object(d["a"])(l,n,c,!1,null,null,null),u=o.exports,p={name:"MemberArticle",components:{TempCardForMember:u},data:function(){return{articleM:[],tempForm:{_id:"",template:0,title:"",author:"",avatar:"",share:!0,image:null,textarea:"",text:"",select:"",datepicker:Number(new Date),date:Number(new Date)},editArticleModal:!1,loading:!1}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.axios.get("/article/member/template/",{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 4:a=e.sent,i=a.data,t.articleM=i.result.map((function(t){return t})),t.loading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()}},v=p,f=Object(d["a"])(v,i,r,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=member.339ad9db.js.map