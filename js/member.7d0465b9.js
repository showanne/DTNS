(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["member"],{"0328":function(t,e,i){t.exports=i.p+"img/dateS.1dcfda2d.svg"},"0a31":function(t,e,i){var a={"./temp-diary.svg":"b427","./temp-notes.svg":"dc1a","./temp-novel.svg":"ef77","./temp-postIt.svg":"b1ce","./temp-share.svg":"6059","./temp-storage.svg":"83e2","./temp-todo.svg":"bfb4"};function r(t){var e=s(t);return i(e)}function s(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=s,t.exports=r,r.id="0a31"},1031:function(t,e,i){t.exports=i.p+"img/action-delete.3dbfa11b.svg"},1276:function(t,e,i){"use strict";var a=i("d784"),r=i("44e7"),s=i("825a"),n=i("1d80"),c=i("4840"),l=i("8aa5"),o=i("50c4"),m=i("14c3"),d=i("9263"),u=i("9f7f"),p=i("d039"),v=u.UNSUPPORTED_Y,f=[].push,h=Math.min,b=4294967295,g=!p((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));a("split",(function(t,e,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var a=String(n(this)),s=void 0===i?b:i>>>0;if(0===s)return[];if(void 0===t)return[a];if(!r(t))return e.call(a,t,s);var c,l,o,m=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=new RegExp(t.source,u+"g");while(c=d.call(v,a)){if(l=v.lastIndex,l>p&&(m.push(a.slice(p,c.index)),c.length>1&&c.index<a.length&&f.apply(m,c.slice(1)),o=c[0].length,p=l,m.length>=s))break;v.lastIndex===c.index&&v.lastIndex++}return p===a.length?!o&&v.test("")||m.push(""):m.push(a.slice(p)),m.length>s?m.slice(0,s):m}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=n(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,r,i):a.call(String(r),e,i)},function(t,r){var n=i(a,this,t,r,a!==e);if(n.done)return n.value;var d=s(this),u=String(t),p=c(d,RegExp),f=d.unicode,g=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"g":"y"),_=new p(v?"^(?:"+d.source+")":d,g),x=void 0===r?b:r>>>0;if(0===x)return[];if(0===u.length)return null===m(_,u)?[u]:[];var C=0,y=0,w=[];while(y<u.length){_.lastIndex=v?0:y;var k,M=m(_,v?u.slice(y):u);if(null===M||(k=h(o(_.lastIndex+(v?y:0)),u.length))===C)y=l(u,y,f);else{if(w.push(u.slice(C,y)),w.length===x)return w;for(var A=1;A<=M.length-1;A++)if(w.push(M[A]),w.length===x)return w;y=C=k}}return w.push(u.slice(C)),w}]}),!g,v)},"37cf":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"h-content md-layout md-alignment-center-center",attrs:{id:"memberReply"}},[i("div",{staticClass:"md-layout-item md-size-66 md-small-size-85 md-xsmall-size-100"},[i("md-card",{staticClass:"p-5"},[i("div",{staticClass:"md-title text-center"},[t._v("問題回報")]),i("form",{staticClass:"w-contact-modal",on:{submit:function(e){return e.preventDefault(),t.submitIssue.apply(null,arguments)},reset:t.clearForm}},[i("md-field",{staticClass:"md-form-group"},[i("label",[i("md-icon",[t._v("help_outline")]),t._v(" 主要問題... ")],1),i("md-select",{attrs:{name:"majorIssue",required:""}},[i("md-option"),i("md-option",{attrs:{value:"編輯權限"}},[t._v("編輯權限")]),i("md-option",{attrs:{value:"網頁功能"}},[t._v("網頁功能")]),i("md-option",{attrs:{value:"文章編輯"}},[t._v("文章編輯")]),i("md-option",{attrs:{value:"其他"}},[t._v("其他")])],1)],1),i("md-field",{staticClass:"md-form-group"},[i("label",[t._v("問題描述 ...")]),i("md-textarea",{attrs:{"md-counter":"40",required:""}})],1),i("div",{staticClass:"md-layout md-alignment-center-space-between"},[i("md-button",{staticClass:"md-layout-item md-size-45 md-raised md-primary",attrs:{type:"reset"}},[t._v(" 重設 ")]),i("md-button",{staticClass:"md-layout-item md-size-45 md-raised md-accent",attrs:{type:"submit"}},[t._v(" 送出 ")])],1)],1)])],1)])},r=[],s=i("1da1"),n=(i("96cf"),{name:"MemberReply",data:function(){return{send:"",contactForm:{majorIssue:"",issueDescription:"",nickname:"",date:Date.now()}}},methods:{submitIssue:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t.contactForm),t.clearForm();case 2:case"end":return e.stop()}}),e)})))()},clearForm:function(){this.contactForm={majorIssue:"",issueDescription:""}}}}),c=n,l=i("2877"),o=Object(l["a"])(c,a,r,!1,null,null,null);e["default"]=o.exports},"436e":function(t,e,i){t.exports=i.p+"img/action-addEdit.bc71d465.svg"},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var a=i("1d80"),r=i("5899"),s="["+r+"]",n=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(t){return function(e){var i=String(a(e));return 1&t&&(i=i.replace(n,"")),2&t&&(i=i.replace(c,"")),i}};t.exports={start:l(1),end:l(2),trim:l(3)}},"5b44":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"memberProfile"}},[t._v(" memberProfilememberProfile ")])},r=[],s={name:"MemberProfile"},n=s,c=i("2877"),l=Object(c["a"])(n,a,r,!1,null,null,null);e["default"]=l.exports},6059:function(t,e,i){t.exports=i.p+"img/temp-share.5f34bd92.svg"},7156:function(t,e,i){var a=i("861d"),r=i("d2bb");t.exports=function(t,e,i){var s,n;return r&&"function"==typeof(s=e.constructor)&&s!==i&&a(n=s.prototype)&&n!==i.prototype&&r(t,n),t}},"80d2":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"member"}},[i("transition",[i("keep-alive",[i("router-view")],1)],1)],1)},r=[],s={name:"Member"},n=s,c=i("2877"),l=Object(c["a"])(n,a,r,!1,null,null,null);e["default"]=l.exports},"83e2":function(t,e,i){t.exports=i.p+"img/temp-storage.0cc1010c.svg"},a9e3:function(t,e,i){"use strict";var a=i("83ab"),r=i("da84"),s=i("94ca"),n=i("6eeb"),c=i("5135"),l=i("c6b6"),o=i("7156"),m=i("c04e"),d=i("d039"),u=i("7c73"),p=i("241c").f,v=i("06cf").f,f=i("9bf2").f,h=i("58a8").trim,b="Number",g=r[b],_=g.prototype,x=l(u(_))==b,C=function(t){var e,i,a,r,s,n,c,l,o=m(t,!1);if("string"==typeof o&&o.length>2)if(o=h(o),e=o.charCodeAt(0),43===e||45===e){if(i=o.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(o.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+o}for(s=o.slice(2),n=s.length,c=0;c<n;c++)if(l=s.charCodeAt(c),l<48||l>r)return NaN;return parseInt(s,a)}return+o};if(s(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var y,w=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof w&&(x?d((function(){_.valueOf.call(i)})):l(i)!=b)?o(new g(C(e)),i,w):C(e)},k=a?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),M=0;k.length>M;M++)c(g,y=k[M])&&!c(w,y)&&f(w,y,v(g,y));w.prototype=_,_.constructor=w,n(r,b,w)}},ae3d:function(t,e,i){t.exports=i.p+"img/action-report.6be8afee.svg"},b1ce:function(t,e,i){t.exports=i.p+"img/temp-postIt.7a1b4200.svg"},b427:function(t,e,i){t.exports=i.p+"img/temp-diary.12c365bd.svg"},bfb4:function(t,e,i){t.exports=i.p+"img/temp-todo.624bae4f.svg"},bfb5:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"memberAnalytics"}},[i("md-empty-state",{staticClass:"md-primary",attrs:{"md-icon":"query_stats","md-label":"Nothing in Done","md-description":"Anything you mark done will be safely stored here."}})],1)},r=[],s={name:"MemberAnalytics"},n=s,c=i("2877"),l=Object(c["a"])(n,a,r,!1,null,null,null);e["default"]=l.exports},d81d:function(t,e,i){"use strict";var a=i("23e7"),r=i("b727").map,s=i("1dde"),n=s("map");a({target:"Array",proto:!0,forced:!n},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},dc1a:function(t,e,i){t.exports=i.p+"img/temp-notes.449b4d69.svg"},ef77:function(t,e,i){t.exports=i.p+"img/temp-novel.08e150f8.svg"},fc26:function(t,e,i){t.exports=i.p+"img/action-good.3bb245ab.svg"},fe12:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"memberArticle"}},[t.loading?i("md-empty-state",{attrs:{"md-icon":"submit","md-label":"Loading..."}},[i("md-progress-spinner",{staticClass:"md-accent loading",attrs:{"md-diameter":100,"md-stroke":10,"md-mode":"indeterminate"}})],1):""==t.articleM?i("md-empty-state",{staticClass:"md-primary",attrs:{"md-icon":"travel_explore","md-label":"快來開始吧！"}},[i("md-button",{staticClass:"md-accent md-raised h-unset p-3 fz-5 ls-2",attrs:{to:"/edit"}},[t._v("紀錄讓你感動的瞬間")]),i("md-button",{staticClass:"md-primary md-raised h-unset p-3 fz-5 ls-2",attrs:{to:"/collection"}},[t._v("在文字的世界裡遨遊")])],1):i("div",{staticClass:"md-layout md-alignment-center"},[i("div",{directives:[{name:"masonry",rawName:"v-masonry"}],staticClass:"masonry-container",attrs:{"transition-duration":"0.3s","item-selector":".tempCardForMember","fit-width":"true"}},t._l(t.articleM,(function(t,e){return i("TempCardForMember",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:e,staticClass:"tempCardForMember",attrs:{index:e,item:t}})})),1)])],1)},r=[],s=i("1da1"),n=(i("96cf"),i("a9e3"),i("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("md-card",{staticClass:"px-3 py-2",attrs:{"md-with-hover":""}},[a("md-card-header",{staticClass:"md-layout md-alignment-center-space-around"},[a("div",{staticClass:"md-layout-item"},[a("md-icon",{staticClass:"d-inline-block",attrs:{"md-src":i("0a31")("./temp-"+t.tempList[t.item.article.template].subhead+".svg")}}),a("span",{staticClass:"pl-2"},[t._v(t._s(t.tempList[t.item.article.template].name))])],1),a("div",{staticClass:"md-layout-item text-right md-subhead"},[a("md-icon",{staticClass:"d-inline-block",attrs:{"md-src":i("0328")}}),a("span",{staticClass:"pl-2"},[t._v(t._s(t.item.article.date))])],1)]),0===t.item.article.template?a("md-card-content",{staticClass:"card-share"},[t.item.article.image?a("md-card-media",[a("img",{attrs:{src:t.item.article.image,alt:t.item.article.title}})]):t._e(),a("figure",[a("blockquote",{staticClass:"p-3"},[a("p",{staticClass:"text-v-html",domProps:{innerHTML:t._s(t.item.article.title)}}),a("figcaption",[a("cite",[t._v(" –– "),a("span",{staticClass:"text-v-html",domProps:{innerHTML:t._s(t.item.article.text)}})])])])])],1):t._e(),1===t.item.article.template?a("md-card-content",[a("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),a("div",{staticClass:"ulListBox"},t._l(t.ulList,(function(e,i){return a("div",{key:i,staticClass:"card-postit text-v-html"},[t._v(t._s(e))])})),0)]):t._e(),2===t.item.article.template?a("md-card-content",[a("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),a("div",{staticClass:"md-subhead lh-5"},[a("md-icon",[t._v("alarm")]),t._v(" 期限："+t._s(t.item.article.datepicker))],1),a("div",{staticClass:"ulListBox"},t._l(t.ulList,(function(e,i){return a("div",{key:i,staticClass:"card-todo text-v-html"},[t._v(t._s(e))])})),0)]):t._e(),3===t.item.article.template?a("md-card-content",[a("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),a("div",{staticClass:"md-subhead"},[a("md-icon",[t._v("event_note")]),t._v(" 期限："+t._s(t.item.article.datepicker))],1),a("div",{staticClass:"md-subhead"},[a("md-icon",[t._v("face")]),t._v(" 心情："+t._s(t.item.article.select))],1),a("div",{staticClass:"md-body-1 text-v-html",domProps:{innerHTML:t._s(t.item.article.textarea)}})]):t._e(),4===t.item.article.template?a("md-card-content",[a("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),a("div",{staticClass:"md-body-1 text-v-html",domProps:{innerHTML:t._s(t.item.article.textarea)}})]):t._e(),5===t.item.article.template?a("md-card-content",[a("md-card-media",{staticClass:"text-center"},[t.item.article.image?a("img",{staticClass:"w-80",attrs:{src:t.item.article.image,alt:t.item.article.title}}):a("md-icon",{staticClass:"md-size-2x my-2"},[t._v("image_not_supported")])],1),a("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),a("div",{staticClass:"md-subhead lh-5"},[a("md-icon",[t._v("emoji_emotions")]),t._v(" 作者："+t._s(t.item.article.text))],1),a("div",{staticClass:"md-subhead lh-5"},[a("md-icon",[t._v("book")]),t._v(" 是否已完結："+t._s(t.item.article.select))],1),a("div",{staticClass:"md-subhead lh-5"},[a("md-icon",[t._v("event_available")]),t._v(" 完結日期："+t._s(t.item.article.datepicker))],1),a("div",{staticClass:"md-body-1 text-v-html",domProps:{innerHTML:t._s(t.item.article.textarea)}})],1):t._e(),6===t.item.article.template?a("md-card-content",[a("md-card-media",{staticClass:"text-center"},[t.item.article.image?a("img",{staticClass:"w-80",attrs:{src:t.item.article.image,alt:t.item.article.title}}):a("md-icon",{staticClass:"md-size-2x my-2"},[t._v("image_not_supported")])],1),a("div",{staticClass:"md-title"},[t._v(t._s(t.item.article.title))]),a("div",{staticClass:"lh-5"},[a("md-icon",[t._v("share_location")]),a("span",{staticClass:"md-subhead text-v-html",domProps:{innerHTML:t._s("存放地點："+t.item.article.text)}})],1),a("div",{staticClass:"lh-5"},[a("md-icon",[t._v("inventory_2")]),a("span",{staticClass:"md-subhead text-v-html",domProps:{innerHTML:t._s("物品狀況描述："+t.item.article.textarea)}})],1)],1):t._e(),a("md-card-actions",{attrs:{"md-alignment":"space-between"}},[a("md-button",{staticClass:"md-button w-unset md-dense",on:{click:function(e){return t.editArticle(t.index)}}},[a("md-icon",{attrs:{"md-src":i("436e")}})],1),a("md-button",{staticClass:"md-button w-unset md-dense",on:{click:function(e){return t.deleteArticle(t.index)}}},[a("md-icon",{attrs:{"md-src":i("1031")}})],1),a("md-button",{staticClass:"md-button w-unset"},[a("md-icon",{staticClass:"d-inline-block",attrs:{"md-src":i("9e9c")}}),a("span",{staticClass:"px-1"},[t._v("--")])],1),a("md-button",{staticClass:"md-button w-unset"},[a("md-icon",{staticClass:"d-inline-block",attrs:{"md-src":i("fc26")}}),a("span",{staticClass:"px-1"},[t._v("--")])],1),t.item.article.publicOff?a("md-button",{staticClass:"md-button w-unset",attrs:{disabled:""}},[a("md-icon",{attrs:{"md-src":i("ae3d")}})],1):t._e(),a("md-button",{staticClass:"md-button w-unset md-dense"},[a("a",{attrs:{href:"http://line.naver.jp/R/msg/text/?DTNS分享吧！–&nbsp;"+t.item.article.title+"%0D%0Ahttps://showanne.github.io/DTNS"}},[a("md-icon",{attrs:{"md-src":i("97a2")}})],1)])],1),a("md-dialog",{attrs:{"md-active":t.editArticleModal},on:{"update:mdActive":function(e){t.editArticleModal=e},"update:md-active":function(e){t.editArticleModal=e}}},[a("md-dialog-title",[t._v("編輯文章")]),a("md-dialog-content"),a("md-dialog-actions",[a("md-button",{staticClass:"md-primary",on:{click:function(e){return t.submitArticle(t.index)}}},[t._v("確定")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.editArticleModal=!1}}},[t._v("取消")])],1)],1)],1)}),c=[],l=(i("99af"),i("ac1f"),i("1276"),{name:"TempCardForMember",data:function(){return{editArticleModal:!1,editForm:[],ulList:[]}},props:{item:{type:Object,required:!0},index:{type:Number,required:!0}},methods:{editArticle:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.editArticleModal=!0,console.log(t,e.index),e.editForm=e.item;case 3:case"end":return i.stop()}}),i)})))()},submitArticle:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(r in console.log(t),console.log(e.item._id),i.prev=2,console.log(e.editForm),a=new FormData,e.editForm.article)a.append(r,e.editForm.article[r]);return i.next=8,e.axios.patch("/article/member/"+e.item._id,a,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 8:e.editArticleModal=!1,i.next=14;break;case 11:i.prev=11,i.t0=i["catch"](2),console.log(i.t0);case 14:case"end":return i.stop()}}),i,null,[[2,11]])})))()},deleteArticle:function(t){alert("deleteArticle",t)}},mounted:function(){this.item.article.image&&(this.item.article.image="".concat("https://dtns-web.herokuapp.com","/file/").concat(this.item.article.image)),(this.item.article.datepicker||this.item.article.date)&&(this.item.article.datepicker=new Date(this.item.article.datepicker).toLocaleDateString(),this.item.article.date=new Date(this.item.article.date).toLocaleDateString()),1!==this.item.article.template&&2!==this.item.article.template||(this.ulList=this.item.article.textarea.split("\n").map((function(t){return t})))}}),o=l,m=i("2877"),d=Object(m["a"])(o,n,c,!1,null,null,null),u=d.exports,p={name:"MemberArticle",components:{TempCardForMember:u},data:function(){return{articleM:[],tempForm:{_id:"",template:0,title:"",author:"",avatar:"",share:!0,image:null,textarea:"",text:"",select:"",datepicker:Number(new Date),date:Number(new Date)},editArticleModal:!1,loading:!1}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,t.axios.get("/article/member/template/",{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 4:i=e.sent,a=i.data,t.articleM=a.result.map((function(t){return t})),t.loading=!1,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()}},v=p,f=Object(m["a"])(v,a,r,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=member.7d0465b9.js.map