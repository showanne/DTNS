(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["edit"],{"0a31":function(e,t,m){var a={"./temp-diary.svg":"b427","./temp-notes.svg":"dc1a","./temp-novel.svg":"ef77","./temp-postIt.svg":"b1ce","./temp-share.svg":"6059","./temp-storage.svg":"83e2","./temp-todo.svg":"bfb4"};function s(e){var t=r(e);return m(t)}function r(e){if(!m.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id="0a31"},1071:function(e,t,m){"use strict";m.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"md-scrollbar",attrs:{id:"edit"}},[a("div",{staticClass:"md-layout md-alignment-space-around"},[a("div",{staticClass:"md-layout-item md-size-33 md-small-size-100 md-xsmall-size-100",attrs:{id:"temp"}},[a("div",{staticClass:"md-layout md-md-alignment-space-around-left "},e._l(e.tempList,(function(t,s){return a("div",{key:s,staticClass:"md-layout-item md-xlarge-size-50 md-large-size-50 md-medium-size-50 md-small-size-15 md-xsmall-size-15",on:{click:function(t){return e.tempShow(s)}}},[t.show?a("md-card",{attrs:{"md-with-hover":""}},[a("md-ripple",[a("md-card-media-cover",[a("md-card-media",{attrs:{"md-ratio":"4:3"}},[a("img",{attrs:{src:m("0a31")("./temp-"+t.subhead+".svg"),alt:t.subhead}})]),a("md-card-area",[a("md-card-header",[a("span",{staticClass:"md-subhead md-small-hide"},[e._v(" "+e._s(t.name)+" ")])])],1)],1)],1)],1):e._e()],1)})),0)]),a("div",{staticClass:"md-layout-item md-size-66 md-small-size-100 md-xsmall-size-100",attrs:{id:"tempEdit"}},[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("form",{staticClass:"md-layout-item md-size-66 md-xsmall-size-100",on:{submit:function(t){return t.preventDefault(),e.submitEdit.apply(null,arguments)},reset:e.clearForm}},[a("md-card",{staticStyle:{padding:"1.3rem 0 1rem 0"}},[a("md-card-header",[a("h4",{staticClass:"title"},[e._v(" "+e._s(e.tempList[e.tempForm.template].name)+" ")]),a("p",{staticClass:"category"},[e._v(" "+e._s(e.tempForm.author)+" "+e._s(e.authorName)+" ")])]),0===e.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:e.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:e.tempForm.title,callback:function(t){e.$set(e.tempForm,"title",t)},expression:"tempForm.title"}}),e.$v.tempForm.title.required?e._e():a("span",{staticClass:"md-error"},[e._v("此欄位為必填")])],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("img-inputer",{attrs:{accept:"image/*",theme:"material","auto-upload":!0,capture:!0,placeholder:"點擊或拖曳選擇"+e.tempList[e.tempForm.template].input[3].name,"bottom-text":"點擊或拖曳以修改"},model:{value:e.tempForm.image,callback:function(t){e.$set(e.tempForm,"image",t)},expression:"tempForm.image"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[4].name))]),a("md-input",{model:{value:e.tempForm.text,callback:function(t){e.$set(e.tempForm,"text",t)},expression:"tempForm.text"}}),a("span",{staticClass:"md-helper-text"},[e._v("作者、書名、社團名稱或某個網站...")])],1)],1)]):e._e(),1===e.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:e.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:e.tempForm.title,callback:function(t){e.$set(e.tempForm,"title",t)},expression:"tempForm.title"}}),e.$v.tempForm.title.required?e._e():a("span",{staticClass:"md-error"},[e._v("此欄位為必填")])],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":"","md-counter":!0}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[3].name))]),a("md-input",{model:{value:e.tempForm.text,callback:function(t){e.$set(e.tempForm,"text",t)},expression:"tempForm.text"}})],1)],1)]):e._e(),2===e.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:e.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:e.tempForm.title,callback:function(t){e.$set(e.tempForm,"title",t)},expression:"tempForm.title"}}),e.$v.tempForm.title.required?e._e():a("span",{staticClass:"md-error"},[e._v("此欄位為必填")])],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("label",{staticClass:"label"},[e._v(e._s(e.tempList[e.tempForm.template].input[3].name))]),a("md-datepicker",{attrs:{"md-immediately":""},model:{value:e.tempForm.datepicker,callback:function(t){e.$set(e.tempForm,"datepicker",t)},expression:"tempForm.datepicker"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[4].name))]),a("md-input",{model:{value:e.tempForm.text,callback:function(t){e.$set(e.tempForm,"text",t)},expression:"tempForm.text"}}),a("span",{staticClass:"md-helper-text"},[e._v("輸入待辦事項")])],1)],1)]):e._e(),3===e.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:e.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:e.tempForm.title,callback:function(t){e.$set(e.tempForm,"title",t)},expression:"tempForm.title"}}),e.$v.tempForm.title.required?e._e():a("span",{staticClass:"md-error"},[e._v("此欄位為必填")])],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("label",{staticClass:"label"},[e._v(e._s(e.tempList[e.tempForm.template].input[3].name))]),a("md-datepicker",{attrs:{"md-immediately":""},model:{value:e.tempForm.datepicker,callback:function(t){e.$set(e.tempForm,"datepicker",t)},expression:"tempForm.datepicker"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[4].name))]),a("md-textarea",{model:{value:e.tempForm.textarea,callback:function(t){e.$set(e.tempForm,"textarea",t)},expression:"tempForm.textarea"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",{attrs:{for:"select"}},[e._v(e._s(e.tempList[e.tempForm.template].input[5].name))]),a("md-select",{attrs:{name:"select",placeholder:e.tempList[e.tempForm.template].input[5].name},model:{value:e.tempForm.select,callback:function(t){e.$set(e.tempForm,"select",t)},expression:"tempForm.select"}},[a("md-option"),e._l(e.tempList[e.tempForm.template].input[5].selectList,(function(t,m){return a("md-option",{key:m,attrs:{value:m}},[e._v(" "+e._s(t)+" ")])}))],2)],1)],1)]):e._e(),4===e.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:e.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:e.tempForm.title,callback:function(t){e.$set(e.tempForm,"title",t)},expression:"tempForm.title"}}),e.$v.tempForm.title.required?e._e():a("span",{staticClass:"md-error"},[e._v("此欄位為必填")])],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[3].name))]),a("md-textarea",{model:{value:e.tempForm.textarea,callback:function(t){e.$set(e.tempForm,"textarea",t)},expression:"tempForm.textarea"}})],1)],1)]):e._e(),5===e.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:e.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:e.tempForm.title,callback:function(t){e.$set(e.tempForm,"title",t)},expression:"tempForm.title"}}),e.$v.tempForm.title.required?e._e():a("span",{staticClass:"md-error"},[e._v("此欄位為必填")])],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[3].name))]),a("md-input",{model:{value:e.tempForm.text,callback:function(t){e.$set(e.tempForm,"text",t)},expression:"tempForm.text"}})],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("img-inputer",{attrs:{accept:"image/*",theme:"material","auto-upload":!0,capture:!0,placeholder:"點擊或拖曳選擇"+e.tempList[e.tempForm.template].input[2].name,"bottom-text":"點擊或拖曳以修改"},model:{value:e.tempForm.image,callback:function(t){e.$set(e.tempForm,"image",t)},expression:"tempForm.image"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[5].name))]),a("md-textarea",{model:{value:e.tempForm.textarea,callback:function(t){e.$set(e.tempForm,"textarea",t)},expression:"tempForm.textarea"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",{attrs:{for:"select"}},[e._v(e._s(e.tempList[e.tempForm.template].input[6].name))]),a("md-select",{attrs:{name:"select",placeholder:e.tempList[e.tempForm.template].input[6].name},model:{value:e.tempForm.select,callback:function(t){e.$set(e.tempForm,"select",t)},expression:"tempForm.select"}},[a("md-option"),e._l(e.tempList[e.tempForm.template].input[6].selectList,(function(t,m){return a("md-option",{key:m,attrs:{value:m}},[e._v(" "+e._s(t)+" ")])}))],2)],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("label",{staticClass:"label"},[e._v(e._s(e.tempList[e.tempForm.template].input[7].name))]),a("md-datepicker",{attrs:{"md-immediately":""},model:{value:e.tempForm.datepicker,callback:function(t){e.$set(e.tempForm,"datepicker",t)},expression:"tempForm.datepicker"}})],1)],1)]):e._e(),6===e.tempForm.template?a("md-card-content",[a("div",{staticClass:"md-layout md-alignment-center-center"},[a("md-field",{staticClass:"md-layout-item md-size-90",class:e.errorClass("title"),attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[1].name))]),a("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:e.tempForm.title,callback:function(t){e.$set(e.tempForm,"title",t)},expression:"tempForm.title"}}),e.$v.tempForm.title.required?e._e():a("span",{staticClass:"md-error"},[e._v("此欄位為必填")])],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("img-inputer",{attrs:{accept:"image/*",theme:"material","auto-upload":!0,capture:!0,placeholder:"點擊或拖曳選擇"+e.tempList[e.tempForm.template].input[2].name,"bottom-text":"點擊或拖曳以修改"},model:{value:e.tempForm.image,callback:function(t){e.$set(e.tempForm,"image",t)},expression:"tempForm.image"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[3].name))]),a("md-textarea",{model:{value:e.tempForm.textarea,callback:function(t){e.$set(e.tempForm,"textarea",t)},expression:"tempForm.textarea"}})],1),a("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[a("label",[e._v(e._s(e.tempList[e.tempForm.template].input[4].name))]),a("md-input",{model:{value:e.tempForm.text,callback:function(t){e.$set(e.tempForm,"text",t)},expression:"tempForm.text"}})],1),a("div",{staticClass:"md-layout-item md-size-90"},[a("label",{staticClass:"label"},[e._v(e._s(e.tempList[e.tempForm.template].input[5].name))]),a("md-datepicker",{attrs:{"md-immediately":""},model:{value:e.tempForm.datepicker,callback:function(t){e.$set(e.tempForm,"datepicker",t)},expression:"tempForm.datepicker"}})],1)],1)]):e._e(),e.sending?a("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):e._e(),a("md-card-actions",{staticClass:"md-layout md-alignment-center-center"},[a("div",{staticClass:"md-layout-item md-size-90"},[a("div",{staticClass:"md-layout md-alignment-center-space-between"},[a("div",{staticClass:"md-layout-item md-size-25"},[a("label",{staticClass:"label"},[e._v("share")]),a("md-switch",{staticClass:"md-primary",model:{value:e.tempList[e.tempForm.template].input[0].value,callback:function(t){e.$set(e.tempList[e.tempForm.template].input[0],"value",t)},expression:"tempList[tempForm.template].input[0].value"}})],1),a("div",{staticClass:"md-layout-item md-size-75 md-alignment-center-space-between"},[a("md-button",{staticClass:"md-raised",attrs:{type:"reset"}},[e._v(" RESET ")]),a("md-button",{staticClass:"md-raised",attrs:{type:"submit",disabled:e.sending}},[e._v(" Submit ")])],1)])])])],1)],1)]),a("md-dialog",{attrs:{"md-active":e.formSaved},on:{"update:mdActive":function(t){e.formSaved=t},"update:md-active":function(t){e.formSaved=t}}},[a("md-dialog-title",[e._v(e._s(e.savedMsg))]),a("md-dialog-actions",[a("md-button",{staticClass:"md-primary",on:{click:function(t){e.formSaved=!1}}},[e._v("關閉")]),e.user.isSignIn?a("md-button",{staticClass:"md-primary",attrs:{to:"/member/memberArticle"},on:{click:function(t){e.formSaved=!1}}},[e._v("去瞧瞧...")]):a("md-button",{staticClass:"md-primary",attrs:{to:"/collection"},on:{click:function(t){e.formSaved=!1}}},[e._v("去瞧瞧...")])],1)],1)],1)])])},s=[],r=m("1da1"),l=(m("96cf"),m("a9e3"),m("b0c0"),m("1dce")),i=m("b5ae"),o={name:"Edit",mixins:[l["validationMixin"]],data:function(){return{tempForm:{_id:"",template:0,title:"",author:"",avatar:"",share:!0,image:null,textarea:"",text:"",select:"",datepicker:Number(new Date),date:Number(new Date)},sending:!1,formSaved:!1,savedMsg:""}},validations:{tempForm:{title:{required:i["required"]}}},computed:{user:function(){return this.$store.getters.user},authorName:function(){var e=this.tempForm.author;return null!==this.user.name?(e=this.user.name,console.log(e)):null===this.user.name||null!==this.user.account?(e=this.user.account,console.log(e)):(e="this.a",console.log(e)),e}},methods:{tempShow:function(e){console.log(e),this.tempForm.template=e},errorClass:function(e){var t=this.$v.tempForm[e];if(console.log(t),t)return{"md-invalid":t.$invalid&&t.$dirty}},submitEdit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var m,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(s in e.sending=!0,m=e.tempForm.author,null!==e.user.name?(m=e.user.name,console.log(m)):null===e.user.name||null!==e.user.account?(m=e.user.account,console.log(m)):(m="this.a",console.log(m)),t.prev=3,a=new FormData,e.tempForm)a.append(s,e.tempForm[s]);if(1!==e.$store.state.user.role&&0!==e.$store.state.user.role){t.next=11;break}return t.next=9,e.axios.post("/article/member",a,{headers:{authorization:"Bearer "+e.$store.state.jwt.token}});case 9:t.next=13;break;case 11:return t.next=13,e.axios.post("/article",a);case 13:e.savedMsg=e.tempList[e.tempForm.template].name+"-"+e.tempForm.title+"was saved with success!",e.formSaved=!0,e.clearForm(),t.next=26;break;case 18:t.prev=18,t.t0=t["catch"](3),console.log(t.t0),r="",r=null===t.t0.response.data.message?t.t0:t.t0.response.data.message,e.savedMsg="Saved with "+r,e.formSaved=!0,e.sending=!0;case 26:e.sending=!1;case 27:case"end":return t.stop()}}),t,null,[[3,18]])})))()},clearForm:function(){this.tempForm={_id:"",template:0,title:"",image:null,textarea:"",text:"",select:"",datepicker:Number(new Date)},this.sending=!1}}},d=o,n=m("2877"),p=Object(n["a"])(d,a,s,!1,null,null,null);t["default"]=p.exports},6059:function(e,t,m){e.exports=m.p+"img/temp-share.5f34bd92.svg"},"83e2":function(e,t,m){e.exports=m.p+"img/temp-storage.0cc1010c.svg"},b1ce:function(e,t,m){e.exports=m.p+"img/temp-postIt.7a1b4200.svg"},b427:function(e,t,m){e.exports=m.p+"img/temp-diary.12c365bd.svg"},bfb4:function(e,t,m){e.exports=m.p+"img/temp-todo.624bae4f.svg"},dc1a:function(e,t,m){e.exports=m.p+"img/temp-notes.449b4d69.svg"},ef77:function(e,t,m){e.exports=m.p+"img/temp-novel.08e150f8.svg"}}]);
//# sourceMappingURL=edit.fc713653.js.map