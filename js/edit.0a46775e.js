(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["edit"],{"0a31":function(t,e,a){var m={"./temp-diary.svg":"b427","./temp-notes.svg":"dc1a","./temp-novel.svg":"ef77","./temp-postIt.svg":"b1ce","./temp-share.svg":"6059","./temp-storage.svg":"83e2","./temp-todo.svg":"bfb4"};function r(t){var e=s(t);return a(e)}function s(t){if(!a.o(m,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return m[t]}r.keys=function(){return Object.keys(m)},r.resolve=s,t.exports=r,r.id="0a31"},1071:function(t,e,a){"use strict";a.r(e);var m=function(){var t=this,e=t.$createElement,m=t._self._c||e;return m("div",{staticClass:"md-scrollbar",attrs:{id:"edit"}},[t.user.isSignIn?t._e():m("div",{staticClass:"tc-dark3 md-body-1 lh-5"},[m("md-icon",[t._v("error_outline")]),t._v(" 提醒您！您目前尚未登入會員，您的編輯內容將以匿名形式發出，並且不會被記錄！")],1),m("div",{staticClass:"md-layout md-alignment-space-around"},[m("div",{staticClass:"md-layout-item md-size-33 md-small-size-100 md-xsmall-size-100",attrs:{id:"temp"}},[m("div",{staticClass:"md-layout md-alignment-space-around-left"},t._l(t.tempList,(function(e,r){return m("div",{key:r,staticClass:"md-layout-item md-xlarge-size-50 md-large-size-50 md-medium-size-50 md-small-size-temp",on:{click:function(e){return t.tempShow(r)}}},[e.show?m("md-card",{attrs:{"md-with-hover":""}},[m("md-ripple",[m("md-card-media-cover",[m("md-card-media",{attrs:{"md-ratio":"4:3"}},[m("img",{attrs:{src:a("0a31")("./temp-"+e.subhead+".svg"),alt:e.subhead}})]),m("md-card-area",[m("md-card-header",[m("span",{staticClass:"md-subhead md-small-hide"},[t._v(" "+t._s(e.name)+" ")])])],1)],1)],1)],1):t._e()],1)})),0)]),m("div",{staticClass:"md-layout-item md-size-66 md-small-size-100 md-xsmall-size-100",attrs:{id:"tempEdit"}},[m("form",{on:{submit:function(e){return e.preventDefault(),t.submitEdit.apply(null,arguments)},reset:t.clearForm}},[m("md-card",{staticClass:"py-4"},[m("md-card-header",[m("p",{staticClass:"md-title fw-bold"},[t._v(" "+t._s(t.tempList[t.tempForm.template].name)+" ")]),m("p",{staticClass:"md-body-1 m-1"},[t._v(" "+t._s(t.userName)+" ")])]),0===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():m("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("img-inputer",{attrs:{accept:"image/*",theme:"material",capture:!0,placeholder:"點擊或拖曳選擇"+t.tempList[t.tempForm.template].input[3].name,"bottom-text":"點擊或拖曳以修改"},model:{value:t.tempForm.image,callback:function(e){t.$set(t.tempForm,"image",e)},expression:"tempForm.image"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[4].name))]),m("md-input",{model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}}),m("span",{staticClass:"md-helper-text"},[t._v("作者、書名、社團名稱或某個網站...")])],1)],1)]):t._e(),1===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():m("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":"","md-counter":!0}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),m("md-textarea",{attrs:{"md-autogrow":""},model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}})],1)],1)]):t._e(),2===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():m("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("label",{staticClass:"label"},[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),m("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.tempForm.datepicker,callback:function(e){t.$set(t.tempForm,"datepicker",e)},expression:"tempForm.datepicker"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[4].name))]),m("md-textarea",{attrs:{"md-autogrow":""},model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}}),m("span",{staticClass:"md-helper-text"},[t._v("輸入待辦事項")])],1)],1)]):t._e(),3===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():m("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("label",{staticClass:"label"},[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),m("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.tempForm.datepicker,callback:function(e){t.$set(t.tempForm,"datepicker",e)},expression:"tempForm.datepicker"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[4].name))]),m("md-textarea",{model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",{attrs:{for:"select"}},[t._v(t._s(t.tempList[t.tempForm.template].input[5].name))]),m("md-select",{attrs:{name:"select",placeholder:t.tempList[t.tempForm.template].input[5].name},model:{value:t.tempForm.select,callback:function(e){t.$set(t.tempForm,"select",e)},expression:"tempForm.select"}},[m("md-option"),t._l(t.tempList[t.tempForm.template].input[5].selectList,(function(e,a){return m("md-option",{key:a,attrs:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)],1)],1)]):t._e(),4===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():m("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),m("md-textarea",{model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}}),m("span",{staticClass:"md-helper-text"},[t._v("本筆記內容區支援程式碼語法")])],1)],1)]):t._e(),5===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():m("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),m("md-input",{attrs:{type:"text"},model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}})],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("img-inputer",{attrs:{accept:"image/*",theme:"material",capture:!0,placeholder:"點擊或拖曳選擇"+t.tempList[t.tempForm.template].input[2].name,"bottom-text":"點擊或拖曳以修改"},model:{value:t.tempForm.image,callback:function(e){t.$set(t.tempForm,"image",e)},expression:"tempForm.image"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90 mt-5",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[5].name))]),m("md-textarea",{model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",{attrs:{for:"select"}},[t._v(t._s(t.tempList[t.tempForm.template].input[6].name))]),m("md-select",{attrs:{name:"select",placeholder:t.tempList[t.tempForm.template].input[6].name},model:{value:t.tempForm.select,callback:function(e){t.$set(t.tempForm,"select",e)},expression:"tempForm.select"}},[m("md-option"),t._l(t.tempList[t.tempForm.template].input[6].selectList,(function(e,a){return m("md-option",{key:a,attrs:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("label",{staticClass:"label"},[t._v(t._s(t.tempList[t.tempForm.template].input[7].name))]),m("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.tempForm.datepicker,callback:function(e){t.$set(t.tempForm,"datepicker",e)},expression:"tempForm.datepicker"}})],1)],1)]):t._e(),6===t.tempForm.template?m("md-card-content",[m("div",{staticClass:"md-layout md-alignment-center-center"},[m("md-field",{staticClass:"md-layout-item md-size-90",class:t.errorClass("title"),attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[1].name))]),m("md-textarea",{attrs:{"md-autogrow":"",required:""},model:{value:t.tempForm.title,callback:function(e){t.$set(t.tempForm,"title",e)},expression:"tempForm.title"}}),t.$v.tempForm.title.required?t._e():m("span",{staticClass:"md-error"},[t._v("此欄位為必填")])],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("img-inputer",{attrs:{accept:"image/*",theme:"material",capture:!0,placeholder:"點擊或拖曳選擇"+t.tempList[t.tempForm.template].input[2].name,"bottom-text":"點擊或拖曳以修改"},model:{value:t.tempForm.image,callback:function(e){t.$set(t.tempForm,"image",e)},expression:"tempForm.image"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90 mt-5",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[3].name))]),m("md-textarea",{model:{value:t.tempForm.textarea,callback:function(e){t.$set(t.tempForm,"textarea",e)},expression:"tempForm.textarea"}})],1),m("md-field",{staticClass:"md-layout-item md-size-90",attrs:{"md-clearable":""}},[m("label",[t._v(t._s(t.tempList[t.tempForm.template].input[4].name))]),m("md-input",{model:{value:t.tempForm.text,callback:function(e){t.$set(t.tempForm,"text",e)},expression:"tempForm.text"}})],1),m("div",{staticClass:"md-layout-item md-size-90"},[m("label",{staticClass:"label"},[t._v(t._s(t.tempList[t.tempForm.template].input[5].name))]),m("md-datepicker",{attrs:{"md-immediately":""},model:{value:t.tempForm.datepicker,callback:function(e){t.$set(t.tempForm,"datepicker",e)},expression:"tempForm.datepicker"}})],1)],1)]):t._e(),t.sending?m("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):t._e(),m("div",{staticClass:"p-share"},[m("label",{staticClass:"label"},[t._v("公開至分享牆")]),m("md-switch",{staticClass:"md-primary",model:{value:t.tempList[t.tempForm.template].input[0].value,callback:function(e){t.$set(t.tempList[t.tempForm.template].input[0],"value",e)},expression:"tempList[tempForm.template].input[0].value"}})],1),m("md-card-actions",{staticClass:"md-layout md-alignment-center-center"},[m("md-button",{staticClass:"mx-2 md-accent md-raised",attrs:{type:"reset"}},[t._v(" 重設 ")]),m("md-button",{staticClass:"mx-2 md-primary md-raised",attrs:{type:"submit",disabled:t.sending}},[t._v(" 送出 ")])],1)],1)],1),m("md-dialog",{attrs:{"md-active":t.formSaved},on:{"update:mdActive":function(e){t.formSaved=e},"update:md-active":function(e){t.formSaved=e}}},[m("md-dialog-title",[t._v(t._s(t.savedMsg))]),m("md-dialog-actions",[m("md-button",{staticClass:"md-primary",on:{click:function(e){t.formSaved=!1}}},[t._v("關閉")]),t.user.isSignIn?m("md-button",{staticClass:"md-primary",attrs:{to:"/member/memberArticle"},on:{click:function(e){t.formSaved=!1}}},[t._v("去瞧瞧...")]):m("md-button",{staticClass:"md-primary",attrs:{to:"/collection"},on:{click:function(e){t.formSaved=!1}}},[t._v("去瞧瞧...")])],1)],1)],1)])])},r=[],s=a("1da1"),i=(a("96cf"),a("a9e3"),a("b0c0"),a("1dce")),l=a("b5ae"),o={name:"Edit",mixins:[i["validationMixin"]],data:function(){return{tempForm:{_id:"",template:0,title:"",share:!0,publicOff:!1,image:null,textarea:"",text:"",select:"",datepicker:Number(new Date),date:Number(new Date)},sending:!1,formSaved:!1,savedMsg:""}},validations:{tempForm:{title:{required:l["required"],minLength:Object(l["minLength"])(1)}}},watch:{},methods:{tempShow:function(t){console.log("Edit "+t),this.tempForm.template=t},errorClass:function(t){var e=this.$v.tempForm[t];if(e)return{"md-invalid":e.$invalid&&e.$dirty}},submitEdit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,m,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(m in t.sending=!0,e.prev=1,a=new FormData,t.tempForm)a.append(m,t.tempForm[m]);if(a.append("author",t.userName),a.append("avatar",t.avatarImg),1!==t.$store.state.user.role&&0!==t.$store.state.user.role){e.next=11;break}return e.next=9,t.axios.post("/article/member",a,{headers:{authorization:"Bearer "+t.$store.state.jwt.token}});case 9:e.next=13;break;case 11:return e.next=13,t.axios.post("/article",a);case 13:t.savedMsg=t.tempList[t.tempForm.template].name+"-"+t.tempForm.title+"was saved with success!",t.formSaved=!0,t.clearForm(),e.next=26;break;case 18:e.prev=18,e.t0=e["catch"](1),console.log(e.t0),r="",r=null===e.t0.response.data.message?e.t0:e.t0.response.data.message,t.savedMsg="Saved with "+r,t.formSaved=!0,t.sending=!0;case 26:t.sending=!1;case 27:case"end":return e.stop()}}),e,null,[[1,18]])})))()},clearForm:function(){this.tempForm={_id:"",template:0,title:"",image:null,textarea:"",text:"",select:"",datepicker:Number(new Date)},this.sending=!1}},mounted:function(){}},n=o,d=a("2877"),p=Object(d["a"])(n,m,r,!1,null,null,null);e["default"]=p.exports},"408a":function(t,e,a){var m=a("e330");t.exports=m(1..valueOf)},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var m=a("e330"),r=a("1d80"),s=a("577e"),i=a("5899"),l=m("".replace),o="["+i+"]",n=RegExp("^"+o+o+"*"),d=RegExp(o+o+"*$"),p=function(t){return function(e){var a=s(r(e));return 1&t&&(a=l(a,n,"")),2&t&&(a=l(a,d,"")),a}};t.exports={start:p(1),end:p(2),trim:p(3)}},6059:function(t,e,a){t.exports=a.p+"img/temp-share.5f34bd92.svg"},7156:function(t,e,a){var m=a("1626"),r=a("861d"),s=a("d2bb");t.exports=function(t,e,a){var i,l;return s&&m(i=e.constructor)&&i!==a&&r(l=i.prototype)&&l!==a.prototype&&s(t,l),t}},"83e2":function(t,e,a){t.exports=a.p+"img/temp-storage.0cc1010c.svg"},a9e3:function(t,e,a){"use strict";var m=a("83ab"),r=a("da84"),s=a("e330"),i=a("94ca"),l=a("6eeb"),o=a("1a2d"),n=a("7156"),d=a("3a9b"),p=a("d9b5"),c=a("c04e"),u=a("d039"),v=a("241c").f,f=a("06cf").f,F=a("9bf2").f,b=a("408a"),_=a("58a8").trim,x="Number",g=r[x],C=g.prototype,y=r.TypeError,k=s("".slice),h=s("".charCodeAt),L=function(t){var e=c(t,"number");return"bigint"==typeof e?e:$(e)},$=function(t){var e,a,m,r,s,i,l,o,n=c(t,"number");if(p(n))throw y("Cannot convert a Symbol value to a number");if("string"==typeof n&&n.length>2)if(n=_(n),e=h(n,0),43===e||45===e){if(a=h(n,2),88===a||120===a)return NaN}else if(48===e){switch(h(n,1)){case 66:case 98:m=2,r=49;break;case 79:case 111:m=8,r=55;break;default:return+n}for(s=k(n,2),i=s.length,l=0;l<i;l++)if(o=h(s,l),o<48||o>r)return NaN;return parseInt(s,m)}return+n};if(i(x,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,z=function(t){var e=arguments.length<1?0:g(L(t)),a=this;return d(C,a)&&u((function(){b(a)}))?n(Object(e),a,z):e},N=m?v(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),E=0;N.length>E;E++)o(g,w=N[E])&&!o(z,w)&&F(z,w,f(g,w));z.prototype=C,C.constructor=z,l(r,x,z)}},b1ce:function(t,e,a){t.exports=a.p+"img/temp-postIt.7a1b4200.svg"},b427:function(t,e,a){t.exports=a.p+"img/temp-diary.12c365bd.svg"},bfb4:function(t,e,a){t.exports=a.p+"img/temp-todo.624bae4f.svg"},dc1a:function(t,e,a){t.exports=a.p+"img/temp-notes.449b4d69.svg"},ef77:function(t,e,a){t.exports=a.p+"img/temp-novel.08e150f8.svg"}}]);
//# sourceMappingURL=edit.0a46775e.js.map